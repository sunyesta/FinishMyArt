[[extend "navbar.html"]] [[block page_head]]
<link rel="stylesheet" href="css/profile.css" />
<link rel="stylesheet" href="css/post_grid.css" />
<!-- <script src="post_grid.js"></script> -->
<script src="https://unpkg.com/vue@2.4.2"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
[[end]]

<style>
	[v-cloak] {
		display: none;
	}
</style>

<body>
	<section class="section" id="vue-target" v-cloak>
		<!-- Place profile picture and description banner here-->
		<div class="container pb-6">
			<!-- Using bulma columns to distribute content equally-->
			<div class="columns block is-vcentered">
				<!--Profile picture here-->
				<div class="column is-one-quarter">
					<img id="profile" src="assets/cat.jpg" />
				</div>
				<!--Banner here-->
				<div class="column is-three-quarter">
					<img id="banner" src="assets/cat.jpg" />
				</div>
			</div>
		</div>

		<!-- Buttons for "Work in progress", "Finished", "Helped"-->
		<div class="container">
			<!-- Using bulma columns to distribute content equally-->
			<div class="columns block is-mobile is-vcentered">
				<!--Profile picture here-->
				<div class="column is-one-third"></div>
				<div class="column is-one-ninth">
					<!-- Work in Progress-->
					<button class="button ProfileButton" @click="set_tab('in_progress')">
						<img src="assets/InProgress.png" width="128" height="auto" />
					</button>
				</div>
				<div class="column is-one-ninth pt-6">
					<!-- Finished -->
					<button class="button ProfileButton" @click="set_tab('finished')">
						<img src="assets/Finished.png" width="128" height="auto" />
					</button>
				</div>
				<div class="column is-one-ninth">
					<!-- Helped -->
					<button class="button ProfileButton" @click="set_tab('helped')">
						<img src="assets/Helped.png" width="128" height="auto" />
					</button>
				</div>
				<div class="column is-one-third"></div>
			</div>
		</div>

		<!-- In Progress Posts Here-->
		<div class="container" v-if="current_tab == 'in_progress'">
			<div class="grid flex-center">
				<!--sticky notes-->
				<div v-for="img in images">
					<div id="stickynote-container">
						<div id="stickynote">
							<img id="postimage" v-bind:src="img.image_url" />
							<div id="stickynotedesc">
								hey my shading sux {{img.description}}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- finished Posts Here-->
		<div class="container" v-if="current_tab == 'finished'">
			<div class="columns block is-vcentered">
				<!--sticky notes-->
				<div class="column">
					<div id="stickynote">
						<div id="postimage" src="assets/cat.jpg"></div>
						<div id="stickynotedesc">hey my shading sux</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Helped Posts Here-->
		<div class="container" v-if="current_tab == 'helped'">
			<div class="columns block is-vcentered">
				<!--sticky notes-->

				<div class="column">
					<div id="stickynote">
						<div id="postimage" src="assets/cat.jpg"></div>
						<div id="stickynotedesc">
							fix my colors hahahaha but only if you want to
						</div>
					</div>
				</div>
			</div>
		</div>

		=======
		<!--
        Insert for loop to iterate posts here
        <div class = "container">
            Find floor of the amount of posts divided by 3
            for loop where it takes the next three posts:
                <div class = "columns block is-mobile is-vcentered">
                    for post in posts:
                        <tr> 

                        </tr>
        -->
	</section>
</body>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
	let get_images_url = "[[=XML(get_images_url)]]";

	const transformPosts = () => {
		var stickynotes = document.querySelectorAll("#stickynote");

		[].forEach.call(stickynotes, function (note) {
			let max = 10;
			let min = -10;
			let range = max - min + 1;
			var angle = Math.floor(Math.random() * range) + min;
			note.style.transform = "rotate(" + angle + "deg)";

			note.style.top = angle * 1.5 + "px";
		});
	};

	transformPosts();
</script>
<script src="js/profile.js"></script>
