[[extend "layout.html"]] [[block page_head]]
<link rel="stylesheet" href="css/myPost.css" />
<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.css" />
<link href="fonts/TwinMarker.ttf" />
<link rel="stylesheet" href="css/artwork.css" />
<link rel="stylesheet" href="css/bulma.css" />
<!-- add vue functionality -->
<script src="https://unpkg.com/vue@2.4.2"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
[[end]]

<style>
	[v-cloak] {
		display: none;
	}
</style>

<div class="container" id="vue-target"v-cloak>
	<h2 class="subtitle is-1">My Artworks</h2>
	<table class="table is-striped is-fullwidth">
		[[for p in posts:]]
		<tr>
			<th>Name</th>
			<th>Owner</th>
			<th>Image</th>
			<th>Edit</th>
		</tr>
		<tr>
			<td>[[=p.title]]</td>
			<td>[[=p.owner]]</td>
			<td>
			</td>
			<td>[[=p.image_id]]</td>
		</tr>
		[[pass]]
	</table>
	<div v-for="post in posts">
		<img
			id="postimage"
			style="width: 50px; height: 50px"
			v-bind:src="post.file.data_url"
		/>
	</div>
	<a class="button is-success" href="[[=URL('addPostPg')]]">
		<span>Add Post</span>
	</a>
	<a class="button is-danger" href="[[=URL('index')]]">
		<span class="icon"><i class="fa fa-fw fa-backward"></i></span>
		<span>Back</span>
	</a>
</div>
[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
	let files_info_url = "[[=XML(files_info_url)]]";
	let obtain_gcs_url = "[[=XML(obtain_gcs_url)]]";
	let notify_url = "[[=XML(notify_url)]]";
	let delete_url = "[[=XML(delete_url)]]";
	let get_posts_url = "[[=XML(get_posts_url)]]";
</script>
<script src="js/addPostPg.js"></script>
[[end]]
