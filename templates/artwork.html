[[extend "navbar.html"]] [[block page_head]]
<link rel="stylesheet" href="css/artwork.css" />
<link rel="stylesheet" href="css/post_grid.css" />

<script src="https://unpkg.com/vue@2.4.2"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
[[end]]

<div id="vue-target" v-cloak>
	{{set_current_post([[=post_id]])}}
	<div></div>
	<main id="page__content" >
		<div id="artwork_section" class="">
			<div id="artwork-left">
				<h1 id="title">
					{{current_post.title}}
				</h1>
				<div id="artwork-container" class="shadow flex-center">
					<img id="tape_artwork" src="assets/tape.svg" class="tape" />

					<div>
						<img id="artwork" v-bind:src="current_post.file.data_url" /><br />
						<img
							id="download_button"
							src="assets/download-solid.svg"
							class="tape"
						/>
					</div>
				</div>
				<div id="options">
					<div class="option" id="option__pin">
						<img class="option__image" />
						<p class="option__text"></p>
					</div>
					<div class="option" id="option__branch">
						<img class="option__image" />
						<p class="option__text"></p>
					</div>
					<div id="option__download">
						<img />
					</div>
				</div>

				<div id="profile" class="flex-left">
					<div>
						<img id="profile_pic" src="assets/profile_demo.png" />
					</div>
					<div>
						<h1 id="name">By:{{current_post.owner}} </h1>
					</div>
				</div>
			</div>

			<div id="artwork-right">
				<div id="description-container" class="shadow">
					<img id="description_artwork" src="assets/tape.svg" class="tape" />
					<h1 id="description-title">Description:</h1>

					<span id="description-content"> {{current_post.description}} </span>
				</div>

				<div>
					<div>
						<img />
						<div></div>
					</div>
				</div>
			</div>
		</div>

		<div id="collaborator_section">
			<span id="collaborator_section_title">Collaborators</span>
			<a href ="[[=URL('addPostPg',post_id)]]">
				<button id="upload_button" class="button is-primary">
					<img id="plus_icon" src="assets/plus-solid.svg" class="tape" />
				</button>
			</a>


			<main class="grid flex-center" >
				<div v-for="post in get_posts_of_parentPost([[=post_id]])">
					<a href = "[[=URL('artwork',2)]]">
						<div id="stickynote-container" >
							<div id="stickynote">
								<img
										id="postimage"
										v-bind:src="post.file.data_url"
									/>
								<div id="stickynotedesc">
									{{post.title}}
								</div>
							</div>
						</div>
					</a>
				</div>
			</main>



		</div>
	</main>
</div>

[[block page_scripts]]
<script>

	let files_info_url = "[[=XML(files_info_url)]]";
	let obtain_gcs_url = "[[=XML(obtain_gcs_url)]]";
	let notify_url = "[[=XML(notify_url)]]";
	let delete_url = "[[=XML(delete_url)]]";
	let add_post_inner_url = "[[=XML(add_post_inner_url)]]";
	let get_posts_url = "[[=XML(get_posts_url)]]";

	
</script>
<script src="js/addPostPg.js"></script>
[[end]]
